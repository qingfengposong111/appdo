{"version":3,"sources":["webpack:///./src/pages/CheckPhone.vue?e2c6","webpack:///./src/pages/CheckPhone.vue?f3e9","webpack:///src/pages/CheckPhone.vue","webpack:///./src/pages/CheckPhone.vue?0e44","webpack:///./src/pages/CheckPhone.vue"],"names":["content","__webpack_require__","module","i","locals","exports","push","CheckPhone","data","disabled","num","userPhone","smsCode","smsCode2","timer","count","show","created","this","$bus","$emit","that","localStorage","loginInfo","JSON","parse","phone","util","ajax","getByForm","then","res","status","tostUtil","tostTop","message","catch","err","methods","goBack","$router","go","toTool","toUpdate","_this","obj","getItem","regUtil","isMatchPhoneNumber","$refs","changePhone","focus","post","type","value","setItem","stringify_default","pages_CheckPhone","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","title","slot","icon","on","click","_v","staticStyle","width","height","display","justify-content","align-items","directives","name","rawName","expression","margin-left","_s","border-bottom","modifiers","trim","ref","placeholder","domProps","input","$event","target","composing","blur","$forceUpdate","padding","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/46.2a0d9f3ff072f56a4d0e.js","sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js?minimize!../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5dc467cf\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./CheckPhone.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"fca7967e\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-style-loader!./node_modules/css-loader?minimize!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-5dc467cf\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/pages/CheckPhone.vue\n// module id = 4kBE\n// module chunks = 46","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"body[data-v-5dc467cf],html[data-v-5dc467cf]{overflow:hidden}.header[data-v-5dc467cf]{background:#5d0e13;height:50px!important;font-size:18px!important}.common-flex[data-v-5dc467cf]{width:86%;height:auto;padding:20px 7%;background:#fff;font-size:13px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.color-clone[data-v-5dc467cf]{color:#5d0e13}.div-width-view[data-v-5dc467cf]{width:100%;font-size:13px;text-align:center;padding-top:10px}input[data-v-5dc467cf]{color:#000;border:none;outline:none;font-size:14px}input[disabled][data-v-5dc467cf]{color:#000;opacity:1}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?minimize!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-5dc467cf\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/pages/CheckPhone.vue\n// module id = K7B6\n// module chunks = 46","<template>\n  <div>\n    <!--<div\n      style=\"width: 100%;height: 20px;background: #5D0E13;position:fixed;top:0;left:0;z-index:999998!important;\"></div>-->\n    <mt-header title=\"手机号码\" class=\"header\">\n      <mt-button @click=\"goBack\" slot=\"left\" icon=\"back\">返回</mt-button>\n    </mt-header>\n    <!-- 占位 -->\n    <div style=\"width: 100%;height: 50px;\"></div>\n    <!-- main -->\n    <div class=\"common-flex flex-box\">\n      <div class=\"flex-1\" style=\"width: 82%;display: flex; justify-content: flex-start; align-items: center;\">\n        <span style=\"width: 30%;\">手机号码：</span>\n        <span  style=\"margin-left:10px;width: 70%;\" v-show=\"!disabled\">{{userPhone}}</span>\n        <div v-show=\"disabled\" style=\"margin-left:10px;width: 70%;border-bottom: 1px solid #f7f7f7;\">\n          <input ref=\"changePhone\" v-model.trim=\"userPhone\" placeholder=\"请输入手机号码\"/>\n        </div>\n      </div>\n      <div class=\"flex-right color-clone\" style=\"padding:0 10px;\" @click=\"toUpdate\">{{!disabled ? '修改' : '确认'}}\n\n      </div>\n    </div>\n    <!-- 占位 -->\n    <div class=\"footprint\"></div>\n    <div class=\"common-flex flex-box\">\n      <div class=\"flex-1\">已有改手机号码卡: {{num}} 张</div>\n      <div class=\"flex-1 flex-right color-clone\" @click=\"toTool\">去购买</div>\n    </div>\n    <div class=\"color-clone div-width-view\">\n      *如需要更改手机号码,请先到道具商城购买手机号码卡\n\n    </div>\n  </div>\n</template>\n<script>\n  import TostUtil from './../common/tostUtil';\n  import Util from './../common/util';\n  import RegUtil from './../common/regUtil'\n  export default{\n    data () {\n      return {\n        disabled: false,\n        num: 0,\n        userPhone: '',\n        smsCode: '',\n        smsCode2:'',\n        timer: null,\n        count: '',\n        show: true\n      }\n    },\n    created(){\n      this.$bus.$emit('loading', true);\n      let that = this;\n      if (localStorage.loginInfo) {\n        that.userPhone = JSON.parse(localStorage.loginInfo).phone\n      } else {\n        that.userPhone = ''\n      }\n      Util.ajax.getByForm('/api/member/balance').then(res => {\n        if (res.data.status === 200) {\n          that.$bus.$emit('loading', false);\n          that.num = res.data.data.phone;//激活卡\n        }else{\n          that.$bus.$emit('loading', false);\n          TostUtil.tostTop(res.data.message);\n        }\n      }).catch(err=>{\n        TostUtil.tostTop('网络出错,请稍后重试!')\n      })\n    },\n    methods: {\n      goBack(){\n        this.$router.go('-1')\n      },\n      toTool () {//去购买\n        this.$router.push('/ToolShop');\n      },\n      toUpdate () {\n        let obj = JSON.parse(localStorage.getItem('loginInfo'));\n        if (!this.disabled) {\n          this.$refs.changePhone.focus();\n          this.disabled = !this.disabled;\n        } else {\n          if (this.num < 1) {\n            TostUtil.tostTop('改手机号码卡不足,请去购买！');\n            return false;\n          }\n          if (!RegUtil.isMatchPhoneNumber(this.userPhone)) {\n            TostUtil.tostTop('手机号码格式不正确！');\n            this.$refs.changePhone.focus();\n            return false;\n          }\n\n          Util.ajax.post('/api/member/update',{\n            type:'phone',\n            value:this.userPhone\n          }).then(res=>{\n            TostUtil.tostTop(res.data.message);\n            if(res.data.status===200){\n              obj.phone=this.userPhone;\n              localStorage.setItem('loginInfo',JSON.stringify(obj));\n            }\n            this.goBack();\n          }).catch(err=>{\n            TostUtil.tostTop('网络出错,请稍后重试!')\n          })\n        }\n      }\n    }\n  }\n</script>\n<style scoped>\n  body, html {\n    overflow: hidden;\n  }\n\n  .header {\n    background: #5D0E13;\n    height: 50px !important;\n    font-size: 18px !important;\n  }\n\n  /* main */\n  .common-flex {\n    width: 86%;\n    height: auto;\n    padding: 20px 7%;\n    background: #fff;\n    font-size: 13px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  }\n\n  /* 单独控制文字颜色 */\n  .color-clone {\n    color: #5D0E13;\n  }\n\n  .div-width-view {\n    width: 100%;\n    font-size: 13px;\n    text-align: center;\n    padding-top: 10px;\n  }\n\n  input {\n    color: #000000;\n    border: none;\n    outline: none;\n  }\n\n  input {\n    font-size: 14px;\n  }\n\n  input[disabled] {\n    color: #000000;\n    opacity: 1\n  }\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/CheckPhone.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('mt-header',{staticClass:\"header\",attrs:{\"title\":\"手机号码\"}},[_c('mt-button',{attrs:{\"slot\":\"left\",\"icon\":\"back\"},on:{\"click\":_vm.goBack},slot:\"left\"},[_vm._v(\"返回\")])],1),_vm._v(\" \"),_c('div',{staticStyle:{\"width\":\"100%\",\"height\":\"50px\"}}),_vm._v(\" \"),_c('div',{staticClass:\"common-flex flex-box\"},[_c('div',{staticClass:\"flex-1\",staticStyle:{\"width\":\"82%\",\"display\":\"flex\",\"justify-content\":\"flex-start\",\"align-items\":\"center\"}},[_c('span',{staticStyle:{\"width\":\"30%\"}},[_vm._v(\"手机号码：\")]),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.disabled),expression:\"!disabled\"}],staticStyle:{\"margin-left\":\"10px\",\"width\":\"70%\"}},[_vm._v(_vm._s(_vm.userPhone))]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.disabled),expression:\"disabled\"}],staticStyle:{\"margin-left\":\"10px\",\"width\":\"70%\",\"border-bottom\":\"1px solid #f7f7f7\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.userPhone),expression:\"userPhone\",modifiers:{\"trim\":true}}],ref:\"changePhone\",attrs:{\"placeholder\":\"请输入手机号码\"},domProps:{\"value\":(_vm.userPhone)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.userPhone=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}})])]),_vm._v(\" \"),_c('div',{staticClass:\"flex-right color-clone\",staticStyle:{\"padding\":\"0 10px\"},on:{\"click\":_vm.toUpdate}},[_vm._v(_vm._s(!_vm.disabled ? '修改' : '确认')+\"\\n\\n    \")])]),_vm._v(\" \"),_c('div',{staticClass:\"footprint\"}),_vm._v(\" \"),_c('div',{staticClass:\"common-flex flex-box\"},[_c('div',{staticClass:\"flex-1\"},[_vm._v(\"已有改手机号码卡: \"+_vm._s(_vm.num)+\" 张\")]),_vm._v(\" \"),_c('div',{staticClass:\"flex-1 flex-right color-clone\",on:{\"click\":_vm.toTool}},[_vm._v(\"去购买\")])]),_vm._v(\" \"),_c('div',{staticClass:\"color-clone div-width-view\"},[_vm._v(\"\\n    *如需要更改手机号码,请先到道具商城购买手机号码卡\\n\\n  \")])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5dc467cf\",\"hasScoped\":true,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/CheckPhone.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!vue-style-loader!css-loader?minimize!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5dc467cf\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./CheckPhone.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./CheckPhone.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./CheckPhone.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5dc467cf\\\",\\\"hasScoped\\\":true,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./CheckPhone.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5dc467cf\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/CheckPhone.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}
webpackJsonp([11],{DRNM:function(e,t,i){var a=i("lqKw");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);i("rjj0")("e878ff6a",a,!0,{})},G2C9:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("buxQ"),n=i("s0MJ"),o=i("sbrb"),r=i.n(o),s={data:function(){return{title:"承租AP",order:"待匹配",idx:"match",orderId:"",text:"请点击上传付款凭证",showOrHide:!1,proof:!0,sucs:!1,checkFlag:!1,checkImg:"",titleList:[{text:"待匹配",number:0,icon:"static/images/icon/tzAP/icon01.png",type:"match"},{text:"待付款",number:0,icon:"static/images/icon/tzAP/icon02.png",type:"pay"},{text:"待确认",number:0,icon:"static/images/icon/tzAP/icon03.png",type:"confirm"},{text:"待评价",number:0,icon:"static/images/icon/tzAP/icon04.png",type:"evaluate"}],list:[],files:"",id:0,flag:!0}},filters:{formatDate:function(e){var t=new Date(1e3*Number(e)),i=t.getFullYear(),a=t.getMonth()+1,n=t.getDate(),o=t.getHours(),r=t.getMinutes(),s=t.getSeconds();return i+"-"+(a=a<10?"0"+a:a)+"-"+(n=n<10?"0"+n:n)+" "+(o=o<10?"0"+o:o)+":"+(r=r<10?"0"+r:r)+":"+(s=s<10?"0"+s:s)},formatLeftDate:function(e){var t=e/1e3,i=Math.floor(t/3600);t-=60*i*60;var a=Math.floor(t/60);t-=60*a;var n=Math.floor(t);return" "+(i=i<10?"0"+i:i)+":"+(a=a<10?"0"+a:a)+":"+(n=n<10?"0"+n:n)}},methods:{goBack:function(){this.$router.go("-1")},connect:function(e){e.id>0&&this.$router.push("/ConnectMember/"+e.id+"/"+e.sellerMemberId+"/"+e.type)},evaluate:function(e){this.$router.push("/GoEvaluate/"+e)},onFile:function(e){this.files=e.target.files[0],this.proof=!this.proof,this.imgPreview(this.files)},imgPreview:function(e){var t=this,i=void 0;if(r.a.getData(e,function(){i=r.a.getTag(this,"Orientation")}),e&&window.FileReader&&/^image/.test(e.type)){var a=new FileReader;a.readAsDataURL(e),a.onloadend=function(){var e=this.result,a=new Image;a.src=e,this.result.length<=102400?t.sucs=!t.sucs:a.onload=function(){t.compress(a,i)}}}},compress:function(e,t){var i=document.createElement("canvas"),a=i.getContext("2d"),n=document.createElement("canvas"),o=n.getContext("2d"),r=(e.src.length,e.width),s=e.height,c=void 0;(c=r*s/4e6)>1?(r/=c=Math.sqrt(c),s/=c):c=1,i.width=r,i.height=s,a.fillStyle="#fff",a.fillRect(0,0,i.width,i.height);var l=void 0;if((l=r*s/1e6)>1){var d=r/(l=Math.sqrt(l)+1),f=s/l;n.width=d,n.height=f;for(var u=0;u<l;u++)for(var p=0;p<l;p++)o.drawImage(e,u*d*c,p*f*c,d*c,f*c,0,0,d,f),a.drawImage(n,u*d,p*f,d,f)}else a.drawImage(e,0,0,r,s);var g=i.toDataURL("image/jpeg",.1);return n.width=n.height=i.width=i.height=0,this.files=this.blobToFile(this.dataURLtoBlob(g),"ds.jpg"),this.sucs=!this.sucs,g},dataURLtoBlob:function(e){for(var t=e.split(","),i=t[0].match(/:(.*?);/)[1],a=atob(t[1]),n=a.length,o=new Uint8Array(n);n--;)o[n]=a.charCodeAt(n);return new Blob([o],{type:i})},blobToFile:function(e,t){return e.lastModifiedDate=new Date,e.name=t,e},checkPic:function(e){this.$router.push("/OrderConfirm/"+e)},cancel:function(){this.showOrHide=!this.showOrHide,this.text="请点击上传付款凭证",this.files="",this.proof=!0,this.sucs=!1,this.flag=!0,this.$refs.files.value=null},showOrHid:function(e){this.showOrHide=!this.showOrHide,this.id=e},submit:function(){var e=this;if(this.flag){this.flag=!1;var t=this.files,i=new FormData;i.append("payment_file",t,t.name),i.append("Id",this.id),this.files?n.a.ajax.postForm("/api/order/payment",i).then(function(t){a.a.tostTop(t.data.message),e.cancel(),e.info(e.$route.params.type),e.flag=!0}).catch(function(t){a.a.tostTop("网络出错,请稍后重试!"),e.flag=!0}):(a.a.tostTop("请上传凭证！"),this.flag=!0)}},info:function(e){var t=this;this.list=[],this.$bus.$emit("loading",!0),n.a.ajax.post("/api/order",{start:0,length:50,status:e,type:"buy"}).then(function(i){var n=t;if(200===i.data.status){var o=i.data.data.data;null!=t.orderTimer&&clearInterval(t.orderTimer),t.orderTimer=setInterval(function(){for(var i=0;i<o.length;i++){var a=o[i],r=void 0;if("match"===e?r=1e3*Number(a.time):"pay"===e?r=1e3*Number(a.matchTime):"confirm"===e?r=1e3*Number(a.payTime):"evaluate"===e&&(r=1e3*Number(a.confirmTime)),!a.hasOwnProperty("rever")){var s=864e5-(Date.now()-r)%864e5;a.rever=s}a.rever-=1e3,a.rever<=0&&(a.rever=864e5)}t.list=o,n.$bus.$emit("loading",!1)},1e3)}else n.$bus.$emit("loading",!1),a.a.tostTop(i.data.message)}).catch(function(e){t.$bus.$emit("loading",!1),a.a.tostTop("网络出错,请稍后重试!")})},getList:function(e){var t=this.$route.params.num;this.idx=e,1==t&&(this.title="承租AP"),2==t&&(this.title="退租AP"),"match"==this.idx?this.order="待匹配":"pay"==this.idx?this.order="待付款":"confirm"==this.idx?this.order="待确认":"evaluate"==this.idx&&(this.order="待评价"),this.$router.push("/BuyList/1/"+this.idx),this.info(this.idx)}},created:function(){this.idx=this.$route.params.type,this.getList(this.idx)}},c={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("mt-header",{staticClass:"header",attrs:{title:e.title+"-"+e.order}},[i("router-link",{attrs:{slot:"left",to:"/Mine"},slot:"left"},[i("mt-button",{attrs:{icon:"back"}},[e._v("返回")])],1)],1),e._v(" "),i("div",{staticClass:"weui-navbar"},e._l(e.titleList,function(t,a){return i("a",{staticClass:"weui-navbar__item",class:e.idx==t.type?"weui-bar__item--on":"",on:{click:function(i){return e.getList(t.type)}}},[i("div",{staticClass:" column "},[i("div",{staticClass:"icon-flex-view",style:{backgroundImage:"url("+t.icon+")"}},[t.number>0?i("div",{staticClass:"circle-num-flex"},[e._v(e._s(t.number))]):e._e()]),e._v(" "),i("div",{staticClass:"font13 font-margin-top"},[e._v(e._s(t.text))])])])}),0),e._v(" "),e.list.length>0?i("div",{staticClass:"weui-tab__bd-item",staticStyle:{"margin-top":"70px!important"}},[i("div",{staticClass:"footprint"}),e._v(" "),e._l(e.list,function(t,a){return"buy"===t.type?i("div",{key:a,staticClass:"main-copy-flex"},[i("div",{staticClass:"could-copy-flex"},[i("div",{staticClass:"font13"},[e._v("\n          订单编号:"+e._s(t.orderId)+"\n\n        ")])]),e._v(" "),i("div",{staticClass:"tra-bg-main row font13 flex-box-center"},[i("div",{staticClass:"font20 color-clone"},[e._v(e._s(t.num))]),e._v(" "),i("div",{staticClass:"font8 color-clone AP-view-flex",staticStyle:{"margin-top":"0"}},[i("span",{staticStyle:{"font-size":"20px!important"}},[e._v(e._s(t.number))]),e._v(" "),i("span",[e._v(" AP")])]),e._v(" "),"match"===e.idx?i("div",{staticClass:"sq-time-flex",staticStyle:{"margin-left":"10px"}},[e._v("申请时间："+e._s(e._f("formatDate")(t.time)))]):e._e(),e._v(" "),"pay"===e.idx?i("div",{staticStyle:{"margin-left":"10px"}},[i("div",{staticClass:"sq-time-flex"},[e._v("匹配时间："+e._s(e._f("formatDate")(t.matchTime)))]),e._v(" "),i("div",{staticStyle:{"font-size":"12px",color:"#666"}},[e._v("卖方会员："+e._s(t.sellerUsername))])]):e._e(),e._v(" "),"confirm"===e.idx?i("div",{staticStyle:{"margin-left":"10px"}},[i("div",{staticClass:"sq-time-flex"},[e._v("付款时间："+e._s(e._f("formatDate")(t.payTime)))]),e._v(" "),i("div",{staticStyle:{"font-size":"12px",color:"#666"}},[e._v("卖方会员："+e._s(t.sellerUsername))])]):e._e(),e._v(" "),"evaluate"===e.idx?i("div",{staticStyle:{"margin-left":"10px"}},[i("div",{staticClass:"sq-time-flex"},[e._v("确认时间："+e._s(e._f("formatDate")(t.confirmTime)))]),e._v(" "),i("div",{staticStyle:{"font-size":"12px",color:"#666"}},[e._v("卖方会员："+e._s(t.sellerUsername))])]):e._e(),e._v(" "),i("div",{staticClass:"div-view-flex"})]),e._v(" "),i("div",{staticClass:"time-copy-flex flex-box-center"},[i("div",{staticClass:"font13 color-clone"},[e._v("\n          剩余时间：\n\n        ")]),e._v(" "),i("div",{staticClass:"font13 color-clone",staticStyle:{"font-size":"20px"}},[e._v("\n          "+e._s(e._f("formatLeftDate")(t.rever))+"\n\n        ")]),e._v(" "),i("div",{staticClass:"right-abs-flex row"},[i("div",{staticClass:"font13 color-clone AP-view-flex",staticStyle:{"margin-top":"5px!important"}},[e._v("合计：")]),e._v(" "),i("div",{staticClass:"price-view-flex font13 color-clone",staticStyle:{"font-size":"20px!important"}},[e._v("￥"+e._s(2e3*t.number)+"\n\n          ")])])]),e._v(" "),"pay"===e.idx?i("div",{staticClass:"contect"},[i("div",{on:{click:function(i){return e.connect(t)}}},[e._v("联系会员")]),e._v(" "),i("div",{on:{click:function(i){return e.showOrHid(t.id)}}},[e._v("上传付款凭证")])]):e._e(),e._v(" "),"confirm"===e.idx?i("div",{staticClass:"contect"},[i("div",{on:{click:function(i){return e.connect(t)}}},[e._v("联系会员")]),e._v(" "),i("div",{on:{click:function(i){return e.checkPic(t.id)}}},[e._v("查看付款凭证")])]):e._e(),e._v(" "),"evaluate"===e.idx?i("div",{staticClass:"contect"},[i("div",{on:{click:function(i){return e.connect(t)}}},[e._v("联系会员")]),e._v(" "),i("div",{on:{click:function(i){return e.evaluate(t.id)}}},[e._v("去评价")])]):e._e()]):e._e()})],2):i("div",{staticClass:"weui-tab__bd-item"},[e._m(0)]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.showOrHide,expression:"showOrHide"}],staticClass:"update"},[i("form",{attrs:{action:""}},[i("div",{staticClass:"updata-main"},[i("div",{staticClass:"up-title"},[e._v("请上传付款凭证")]),e._v(" "),i("div",{staticClass:"upMain"},[i("div",{staticClass:"img-div flex-justify-center"},[e.files&&!e.sucs?i("img",{attrs:{width:"24",src:"static/images/loading.gif"}}):e._e(),e._v(" "),e.proof?i("div",{staticClass:"add-hide-flex upImg",attrs:{id:"aa"}},[e._v(e._s(e.text))]):e._e(),e._v(" "),e.sucs?i("div",{staticClass:"tx"},[e._v("已选择")]):e._e(),e._v(" "),i("input",{ref:"files",attrs:{type:"file"},on:{change:function(t){return e.onFile(t)}}})])]),e._v(" "),i("div",{staticClass:"upBtns"},[i("div",{on:{click:e.submit}},[e._v(e._s(e.flag?"提交":"处理中"))]),e._v(" "),i("div",{on:{click:e.cancel}},[e._v("取消")])])])])])],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"none-flex-view flex-justify-center column"},[t("div",{staticClass:"none-icon-flex"}),this._v(" "),t("div",{staticClass:"font13",staticStyle:{color:"#666"}},[this._v("暂无数据")])])}]};var l=i("VU/8")(s,c,!1,function(e){i("DRNM")},"data-v-360ec7ac",null);t.default=l.exports},lqKw:function(e,t,i){var a=i("kxFB");(e.exports=i("FZ+f")(!1)).push([e.i,".img-div[data-v-360ec7ac]{width:46%;height:34px;margin:0 auto}.up-title[data-v-360ec7ac]{padding:5px}.upMain[data-v-360ec7ac]{width:100%;position:relative;top:5px;margin-bottom:10px}input[type=file][data-v-360ec7ac]{position:absolute;width:35%;border-radius:6px;left:25%;opacity:0;top:0}.upImg[data-v-360ec7ac],input[type=file][data-v-360ec7ac]{margin:0 auto;padding:5px 10px;color:#5d0e13;font-size:14px}.upImg[data-v-360ec7ac]{width:96%;border:1px solid #5d0e13;border-radius:6px}.check[data-v-360ec7ac],.update[data-v-360ec7ac]{position:fixed;width:100%;height:100%;left:0;right:0;bottom:0;top:0;margin:auto;background:rgba(0,0,0,.1);z-index:99999999999}.update[data-v-360ec7ac]{position:fixed}.check img[data-v-360ec7ac]{width:auto;height:auto;position:absolute;left:0;right:0;bottom:0;top:0;margin:auto}.updata-main>div[data-v-360ec7ac]{text-align:center}.updata-main[data-v-360ec7ac]{position:absolute;width:80%;height:130px;left:0;right:0;bottom:0;top:0;background:#fff;border-radius:5px;margin:auto}.upBtns[data-v-360ec7ac]{width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;color:#fff}.upBtns>div[data-v-360ec7ac]{width:50px;padding:5px 10px;font-size:14px;margin-top:8px}.upBtns>div[data-v-360ec7ac]:first-child{background:#5d0e13;border-radius:5px;margin-right:40px}.upBtns>div[data-v-360ec7ac]:last-child{background:#ccc;border-radius:5px}.contect[data-v-360ec7ac]{width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:10px 2%;background:#fff;font-size:14px;border-top:1px solid #f3f3f3}.contect>div[data-v-360ec7ac]:first-child{padding:2px 5px;border:1px solid #666;border-radius:6px;color:#000;font-weight:500;margin-right:20px}.contect>div[data-v-360ec7ac]:last-child{padding:2px 5px;border:1px solid #5d0e13;border-radius:6px;color:#5d0e13;font-weight:500;margin-right:20px}.header[data-v-360ec7ac]{background:#5d0e13;height:50px!important;font-size:18px!important}.weui-navbar[data-v-360ec7ac]{display:-webkit-box;display:-ms-flexbox;display:flex;position:fixed;z-index:500;top:50px;width:100%;background-color:#fafafa}.weui-navbar__item[data-v-360ec7ac]{padding-top:20px;background:#fff;position:relative;display:block;-webkit-box-flex:1;-ms-flex:1;flex:1;padding:13px 0;text-align:center;font-size:15px;border-bottom:3px solid transparent;-webkit-tap-highlight-color:rgba(0,0,0,0);color:#888}.weui-navbar__item.weui-bar__item--on[data-v-360ec7ac]{border-bottom:3px solid #5d0e13;color:#5c5c5c!important;font-size:13px!important;-webkit-transition:all .3s linear;transition:all .3s linear}.icon-flex-view[data-v-360ec7ac]{width:20px;height:20px;background-repeat:no-repeat;background-position:50%;background-size:contain;position:absolute;top:14%;right:40%}.font-margin-top[data-v-360ec7ac]{padding-top:15px}.tra-bg-main[data-v-360ec7ac]{width:86%;padding:20px 7%;position:relative}.font13[data-v-360ec7ac]{font-size:14px!important}.flex-box-center[data-v-360ec7ac]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.row[data-v-360ec7ac]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}.circle-num-flex[data-v-360ec7ac]{width:10px;height:10px;line-height:10px;text-align:center;background:#5d0e13;color:#fff;border-radius:50%;font-size:8px;position:absolute;right:-5px;top:-5px}.could-copy-flex[data-v-360ec7ac]{width:86%;padding:7px 7%;background:#fff}div.main-copy-flex[data-v-360ec7ac]:first-child{margin-top:70px!important}.main-copy-flex+.main-copy-flex[data-v-360ec7ac]{margin-top:10px}.color-clone[data-v-360ec7ac]{color:#5d0e13}.font20[data-v-360ec7ac]{font-size:20px!important}.div-view-flex[data-v-360ec7ac]{width:10px;height:10px;background:#a07a3c;position:absolute;left:7.5%;bottom:0}.time-copy-flex[data-v-360ec7ac]{width:86%;padding:20px 7%;background:#fff;position:relative}.font8[data-v-360ec7ac]{font-size:8px}.right-abs-flex[data-v-360ec7ac]{position:absolute;right:7%}.AP-view-flex[data-v-360ec7ac]{margin-top:5px}.none-flex-view[data-v-360ec7ac]{width:100%;height:80%;text-align:center;padding-top:70%}.none-icon-flex[data-v-360ec7ac]{width:100px;height:100px;background-image:url("+a(i("9kcH"))+");background-repeat:no-repeat;background-position:50%;background-size:contain;margin:0 auto 10px}",""])},sbrb:function(e,t,i){var a;(function(){var i=!1,o=function(e){return e instanceof o?e:this instanceof o?void(this.EXIFwrapped=e):new o(e)};void 0!==e&&e.exports&&(t=e.exports=o),t.EXIF=o;var r=o.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},s=o.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},c=o.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},l=o.IFD1Tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:"ResolutionUnit",513:"JpegIFOffset",514:"JpegIFByteCount",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite"},d=o.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}};function f(e){return!!e.exifdata}function u(e,t){function a(a){var n=p(a);e.exifdata=n||{};var r=function(e){var t=new DataView(e);i&&console.log("Got file of length "+e.byteLength);if(255!=t.getUint8(0)||216!=t.getUint8(1))return i&&console.log("Not a valid JPEG"),!1;var a=2,n=e.byteLength,o=function(e,t){return 56===e.getUint8(t)&&66===e.getUint8(t+1)&&73===e.getUint8(t+2)&&77===e.getUint8(t+3)&&4===e.getUint8(t+4)&&4===e.getUint8(t+5)};for(;a<n;){if(o(t,a)){var r=t.getUint8(a+7);r%2!=0&&(r+=1),0===r&&(r=4);var s=a+8+r,c=t.getUint16(a+6+r);return h(e,s,c)}a++}}(a);if(e.iptcdata=r||{},o.isXmpEnabled){var s=function(e){if(!("DOMParser"in self))return;var t=new DataView(e);i&&console.log("Got file of length "+e.byteLength);if(255!=t.getUint8(0)||216!=t.getUint8(1))return i&&console.log("Not a valid JPEG"),!1;var a=2,n=e.byteLength,o=new DOMParser;for(;a<n-4;){if("http"==x(t,a,4)){var r=a-1,s=t.getUint16(a-2)-1,c=x(t,r,s),l=c.indexOf("xmpmeta>")+8,d=(c=c.substring(c.indexOf("<x:xmpmeta"),l)).indexOf("x:xmpmeta")+10;c=c.slice(0,d)+'xmlns:Iptc4xmpCore="http://iptc.org/std/Iptc4xmpCore/1.0/xmlns/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:tiff="http://ns.adobe.com/tiff/1.0/" xmlns:plus="http://schemas.android.com/apk/lib/com.google.android.gms.plus" xmlns:ext="http://www.gettyimages.com/xsltExtension/1.0" xmlns:exif="http://ns.adobe.com/exif/1.0/" xmlns:stEvt="http://ns.adobe.com/xap/1.0/sType/ResourceEvent#" xmlns:stRef="http://ns.adobe.com/xap/1.0/sType/ResourceRef#" xmlns:crs="http://ns.adobe.com/camera-raw-settings/1.0/" xmlns:xapGImg="http://ns.adobe.com/xap/1.0/g/img/" xmlns:Iptc4xmpExt="http://iptc.org/std/Iptc4xmpExt/2008-02-29/" '+c.slice(d);var f=o.parseFromString(c,"text/xml");return y(f)}a++}}(a);e.xmpdata=s||{}}t&&t.call(e)}if(e.src)if(/^data\:/i.test(e.src))a(function(e,t){t=t||e.match(/^data\:([^\;]+)\;base64,/im)[1]||"",e=e.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var i=atob(e),a=i.length,n=new ArrayBuffer(a),o=new Uint8Array(n),r=0;r<a;r++)o[r]=i.charCodeAt(r);return n}(e.src));else if(/^blob\:/i.test(e.src)){(r=new FileReader).onload=function(e){a(e.target.result)},function(e,t){var i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType="blob",i.onload=function(e){200!=this.status&&0!==this.status||t(this.response)},i.send()}(e.src,function(e){r.readAsArrayBuffer(e)})}else{var n=new XMLHttpRequest;n.onload=function(){if(200!=this.status&&0!==this.status)throw"Could not load image";a(n.response),n=null},n.open("GET",e.src,!0),n.responseType="arraybuffer",n.send(null)}else if(self.FileReader&&(e instanceof self.Blob||e instanceof self.File)){var r;(r=new FileReader).onload=function(e){i&&console.log("Got file of length "+e.target.result.byteLength),a(e.target.result)},r.readAsArrayBuffer(e)}}function p(e){var t=new DataView(e);if(i&&console.log("Got file of length "+e.byteLength),255!=t.getUint8(0)||216!=t.getUint8(1))return i&&console.log("Not a valid JPEG"),!1;for(var a,n=2,o=e.byteLength;n<o;){if(255!=t.getUint8(n))return i&&console.log("Not a valid marker at offset "+n+", found: "+t.getUint8(n)),!1;if(a=t.getUint8(n+1),i&&console.log(a),225==a)return i&&console.log("Found 0xFFE1 marker"),b(t,n+4,t.getUint16(n+2));n+=2+t.getUint16(n+2)}}var g={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};function h(e,t,i){for(var a,n,o,r,s=new DataView(e),c={},l=t;l<t+i;)28===s.getUint8(l)&&2===s.getUint8(l+1)&&(r=s.getUint8(l+2))in g&&((o=s.getInt16(l+3))+5,n=g[r],a=x(s,l+5,o),c.hasOwnProperty(n)?c[n]instanceof Array?c[n].push(a):c[n]=[c[n],a]:c[n]=a),l++;return c}function m(e,t,a,n,o){var r,s,c,l=e.getUint16(a,!o),d={};for(c=0;c<l;c++)r=a+12*c+2,!(s=n[e.getUint16(r,!o)])&&i&&console.log("Unknown tag: "+e.getUint16(r,!o)),d[s]=v(e,r,t,a,o);return d}function v(e,t,i,a,n){var o,r,s,c,l,d,f=e.getUint16(t+2,!n),u=e.getUint32(t+4,!n),p=e.getUint32(t+8,!n)+i;switch(f){case 1:case 7:if(1==u)return e.getUint8(t+8,!n);for(o=u>4?p:t+8,r=[],c=0;c<u;c++)r[c]=e.getUint8(o+c);return r;case 2:return x(e,o=u>4?p:t+8,u-1);case 3:if(1==u)return e.getUint16(t+8,!n);for(o=u>2?p:t+8,r=[],c=0;c<u;c++)r[c]=e.getUint16(o+2*c,!n);return r;case 4:if(1==u)return e.getUint32(t+8,!n);for(r=[],c=0;c<u;c++)r[c]=e.getUint32(p+4*c,!n);return r;case 5:if(1==u)return l=e.getUint32(p,!n),d=e.getUint32(p+4,!n),(s=new Number(l/d)).numerator=l,s.denominator=d,s;for(r=[],c=0;c<u;c++)l=e.getUint32(p+8*c,!n),d=e.getUint32(p+4+8*c,!n),r[c]=new Number(l/d),r[c].numerator=l,r[c].denominator=d;return r;case 9:if(1==u)return e.getInt32(t+8,!n);for(r=[],c=0;c<u;c++)r[c]=e.getInt32(p+4*c,!n);return r;case 10:if(1==u)return e.getInt32(p,!n)/e.getInt32(p+4,!n);for(r=[],c=0;c<u;c++)r[c]=e.getInt32(p+8*c,!n)/e.getInt32(p+4+8*c,!n);return r}}function x(e,t,i){var a="";for(n=t;n<t+i;n++)a+=String.fromCharCode(e.getUint8(n));return a}function b(e,t){if("Exif"!=x(e,t,4))return i&&console.log("Not valid EXIF data! "+x(e,t,4)),!1;var a,n,o,f,u,p=t+6;if(18761==e.getUint16(p))a=!1;else{if(19789!=e.getUint16(p))return i&&console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)"),!1;a=!0}if(42!=e.getUint16(p+2,!a))return i&&console.log("Not valid TIFF data! (no 0x002A)"),!1;var g=e.getUint32(p+4,!a);if(g<8)return i&&console.log("Not valid TIFF data! (First offset less than 8)",e.getUint32(p+4,!a)),!1;if((n=m(e,p,p+g,s,a)).ExifIFDPointer)for(o in f=m(e,p,p+n.ExifIFDPointer,r,a)){switch(o){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":f[o]=d[o][f[o]];break;case"ExifVersion":case"FlashpixVersion":f[o]=String.fromCharCode(f[o][0],f[o][1],f[o][2],f[o][3]);break;case"ComponentsConfiguration":f[o]=d.Components[f[o][0]]+d.Components[f[o][1]]+d.Components[f[o][2]]+d.Components[f[o][3]]}n[o]=f[o]}if(n.GPSInfoIFDPointer)for(o in u=m(e,p,p+n.GPSInfoIFDPointer,c,a)){switch(o){case"GPSVersionID":u[o]=u[o][0]+"."+u[o][1]+"."+u[o][2]+"."+u[o][3]}n[o]=u[o]}return n.thumbnail=function(e,t,i,a){var n=function(e,t,i){var a=e.getUint16(t,!i);return e.getUint32(t+2+12*a,!i)}(e,t+i,a);if(!n)return{};if(n>e.byteLength)return{};var o=m(e,t,t+n,l,a);if(o.Compression)switch(o.Compression){case 6:if(o.JpegIFOffset&&o.JpegIFByteCount){var r=t+o.JpegIFOffset,s=o.JpegIFByteCount;o.blob=new Blob([new Uint8Array(e.buffer,r,s)],{type:"image/jpeg"})}break;case 1:console.log("Thumbnail image format is TIFF, which is not implemented.");break;default:console.log("Unknown thumbnail image format '%s'",o.Compression)}else 2==o.PhotometricInterpretation&&console.log("Thumbnail image format is RGB, which is not implemented.");return o}(e,p,g,a),n}function w(e){var t={};if(1==e.nodeType){if(e.attributes.length>0){t["@attributes"]={};for(var i=0;i<e.attributes.length;i++){var a=e.attributes.item(i);t["@attributes"][a.nodeName]=a.nodeValue}}}else if(3==e.nodeType)return e.nodeValue;if(e.hasChildNodes())for(var n=0;n<e.childNodes.length;n++){var o=e.childNodes.item(n),r=o.nodeName;if(null==t[r])t[r]=w(o);else{if(null==t[r].push){var s=t[r];t[r]=[],t[r].push(s)}t[r].push(w(o))}}return t}function y(e){try{var t={};if(e.children.length>0)for(var i=0;i<e.children.length;i++){var a=e.children.item(i),n=a.attributes;for(var o in n){var r=n[o],s=r.nodeName,c=r.nodeValue;void 0!==s&&(t[s]=c)}var l=a.nodeName;if(void 0===t[l])t[l]=w(a);else{if(void 0===t[l].push){var d=t[l];t[l]=[],t[l].push(d)}t[l].push(w(a))}}else t=e.textContent;return t}catch(e){console.log(e.message)}}o.enableXmp=function(){o.isXmpEnabled=!0},o.disableXmp=function(){o.isXmpEnabled=!1},o.getData=function(e,t){return!((self.Image&&e instanceof self.Image||self.HTMLImageElement&&e instanceof self.HTMLImageElement)&&!e.complete)&&(f(e)?t&&t.call(e):u(e,t),!0)},o.getTag=function(e,t){if(f(e))return e.exifdata[t]},o.getIptcTag=function(e,t){if(f(e))return e.iptcdata[t]},o.getAllTags=function(e){if(!f(e))return{};var t,i=e.exifdata,a={};for(t in i)i.hasOwnProperty(t)&&(a[t]=i[t]);return a},o.getAllIptcTags=function(e){if(!f(e))return{};var t,i=e.iptcdata,a={};for(t in i)i.hasOwnProperty(t)&&(a[t]=i[t]);return a},o.pretty=function(e){if(!f(e))return"";var t,i=e.exifdata,a="";for(t in i)i.hasOwnProperty(t)&&("object"==typeof i[t]?i[t]instanceof Number?a+=t+" : "+i[t]+" ["+i[t].numerator+"/"+i[t].denominator+"]\r\n":a+=t+" : ["+i[t].length+" values]\r\n":a+=t+" : "+i[t]+"\r\n");return a},o.readFromBinaryFile=function(e){return p(e)},void 0===(a=function(){return o}.apply(t,[]))||(e.exports=a)}).call(this)}});
//# sourceMappingURL=11.fec738c7639b79ae8020.js.map
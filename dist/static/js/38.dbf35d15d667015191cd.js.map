{"version":3,"sources":["webpack:///./src/pages/OrderMessage.vue?0b57","webpack:///./src/pages/OrderMessage.vue?1755","webpack:///src/pages/OrderMessage.vue","webpack:///./src/pages/OrderMessage.vue?32dc","webpack:///./src/pages/OrderMessage.vue"],"names":["escape","__webpack_require__","module","exports","push","i","content","locals","OrderMessage","components","MeScroll","mescroll","data","pageSize","mescrollDown","callback","this","downCallback","mescrollUp","upCallback","page","num","size","htmlNodata","dataList","memberList","filters","formatDate","value","val","JSON","parse","date","Date","YY","getFullYear","MM","getMonth","d","getDate","h","getHours","m","getMinutes","s","getSeconds","yuan","isNaN","parseFloat","toFixed","methods","mescrollInit","_this","currIndex","util","ajax","post","start","length","then","res","status","forEach","item","type","concat","hasNext","$nextTick","endSuccess","catch","endErr","_this2","goBack","$router","go","detail","id","created","$bus","$emit","that","setTimeout","pages_OrderMessage","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","title","slot","icon","on","click","_v","staticStyle","width","height","directives","name","rawName","expression","ref","down","up","init","_l","index","key","$event","color","_s","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/38.dbf35d15d667015191cd.js","sourcesContent":["var escape = require(\"../../node_modules/css-loader/lib/url/escape.js\");\nexports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".mescroll[data-v-6ba11956]{position:fixed;top:50px;bottom:0;height:auto;background:#ffff!important}.header[data-v-6ba11956]{background:#5d0e13;height:50px!important;font-size:18px!important}.font14[data-v-6ba11956]{font-size:14px!important}.column[data-v-6ba11956]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.wrap-row[data-v-6ba11956]{width:100%;word-wrap:break-word;word-break:break-all;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.footprint[data-v-6ba11956]{width:100%;height:10px}.main-this-galley[data-v-6ba11956]{width:100%;height:auto}.copy-this-flex-view[data-v-6ba11956]{width:100%;background:#fff;-webkit-box-sizing:border-box;box-sizing:border-box;padding:15px 2%;border-bottom:1px solid #d4d4d4}.color-and-padding[data-v-6ba11956]{color:#999;margin:10px 0}.main-none-flex[data-v-6ba11956]{width:100%;height:80%}.color-red-flex[data-v-6ba11956]{color:red}.none-icon-flex[data-v-6ba11956]{width:100px;height:100px;background-image:url(\" + escape(require(\"../../static/images/icon/djsc/none.png\")) + \");background-repeat:no-repeat;background-position:50%;background-size:contain;margin:50% auto 0}.marginTop[data-v-6ba11956]{margin:10px auto;color:#666}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?minimize!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-6ba11956\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/pages/OrderMessage.vue\n// module id = NRZn\n// module chunks = 38","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js?minimize!../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6ba11956\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./OrderMessage.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"5392b480\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-style-loader!./node_modules/css-loader?minimize!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-6ba11956\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/pages/OrderMessage.vue\n// module id = YsaX\n// module chunks = 38","<template>\n  <div>\n    <!--<div style=\"width: 100%;height: 20px;background: #5D0E13;position:fixed;top:0;left:0;z-index:999998!important;\"></div>-->\n    <mt-header title=\"订单消息\" class=\"header\">\n      <mt-button @click=\"goBack\" slot=\"left\" icon=\"back\">返回</mt-button>\n    </mt-header>\n    <!-- 占位 -->\n    <div style=\"width: 100%;height: 50px;\"></div>\n    <div class=\"head-zw\"></div>\n    <!-- main  有数据的情况-->\n    <div class=\"main-this-galley\" v-show=\"dataList.length>0\">\n      <!-- 占位 -->\n      <div class=\"footprint\"></div>\n      <!-- copy -->\n      <MeScroll ref=\"mescroll\" class=\"mescroll\" :down=\"mescrollDown\" :up=\"mescrollUp\" @init=\"mescrollInit\">\n        <div class=\"copy-this-flex-view column font14\" v-for=\"(item,index) in dataList\" :key=\"index\"\n             @click=\"detail(item.id)\">\n          <div class=\"wrap-row\"><!--<span>内容： </span>--><span style=\"color:#333;\">{{item.content}}</span></div>\n        </div>\n      </MeScroll>\n\n    </div>\n    <!-- main 没有的情况 -->\n    <div class=\"main-none-flex column flex-justify-center\" v-show=\"dataList.length === 0\">\n      <div class=\"none-icon-flex\"></div>\n      <div class=\"font13 marginTop\">暂无消息</div>\n    </div>\n  </div>\n</template>\n<script>\n  import Util from './../common/util';\n  import MeScroll from 'mescroll.js/mescroll.vue'\n  import 'mescroll.js/mescroll.min.css'\n  export default{\n    components: {\n      MeScroll\n    },\n    data () {\n      return {\n        pageSize: 10,\n        mescroll: null,\n        mescrollDown: {\n          callback: this.downCallback,\n        },\n        mescrollUp: {\n          callback: this.upCallback,\n          page: {\n            num: 0,\n            size: 7\n          },\n          htmlNodata: '<p class=\"upwarp-nodata\">-- 加载完成 --</p>'\n        },\n        dataList: [],\n        memberList:[]\n      }\n    },\n    filters: {\n      formatDate: function (value) {\n        let val = JSON.parse(value);\n        let date = new Date(val);\n        let YY = date.getFullYear();\n        let MM = date.getMonth() + 1;\n        let d = date.getDate();\n        let h = date.getHours();\n        let m = date.getMinutes();\n        let s = date.getSeconds();\n        MM = MM < 10 ? ('0' + MM) : MM;\n        d = d < 10 ? ('0' + d) : d;\n        h = h < 10 ? ('0' + h) : h;\n        m = m < 10 ? ('0' + m) : m;\n        s = s < 10 ? ('0' + s) : s;\n        return YY + '-' + MM + '-' + d + ':' + h + ':' + m + ':' + s\n      },\n      yuan: function (value) {\n        return isNaN(value) ? 0.00 : parseFloat((value / 100).toFixed(2)).toFixed(2);\n      }\n    },\n    methods: {\n      mescrollInit (mescroll) {// mescroll组件初始化的回调,可获取到mescroll对象\n        this.mescroll = mescroll  // 如果this.mescroll对象没有使用到,则mescrollInit可以不用配置\n      },\n      upCallback(page){\n        const currIndex = (page.num ) * this.pageSize;\n        Util.ajax.post('/api/message', {\n          start: currIndex,\n          length: page.size\n        }).then((res) => {\n          if (res.data.status === 200) {\n            let arr = res.data.data.data;\n            arr.forEach(item=>{\n              if(item.type==='order'|| item.type==='seed'){\n                this.memberList.push(item);\n              }\n            });\n            if (currIndex < this.memberList.length) {\n\n              this.dataList = this.dataList.concat(this.memberList);\n              //page.num = page.size*page.num;\n              //隐藏下拉刷新的状态\n              let hasNext = this.dataList.length < this.memberList.length;\n              this.$nextTick(() => {\n                this.mescroll.endSuccess(this.memberList.length, hasNext);\n              })\n            }else{\n              this.mescroll.endSuccess(this.memberList.length, false);\n            }\n          }\n        }).catch(() => this.mescroll.endErr());\n\n      },\n\n      downCallback () {\n        const pageStart = 0;\n        if (pageStart === 0 && this.memberList.length == 0) {\n          Util.ajax.post('/api/message', {\n            start: pageStart,\n            length: this.mescrollUp.page.size,\n          }).then((res) => {\n            if (res.data.status === 200) {\n              let arr = res.data.data.data;\n              arr.forEach(item=>{\n                if(item.type==='order'|| item.type==='seed'){\n                  this.memberList.push(item);\n                }\n              });\n              this.dataList = this.dataList.concat(this.memberList);\n              this.mescroll.endSuccess();\n            }\n          }).catch(() => this.mescroll.endErr());\n\n        } else {\n          this.mescroll.endSuccess();\n        }\n      },\n      goBack(){\n        this.$router.go('-1')\n      },\n      detail(id){\n        this.$router.push('/OrderMessageDetail/' + id)\n      }\n    },\n    created()\n    {\n      this.$bus.$emit('loading', true);\n      let that = this;\n      setTimeout(function () {\n        that.$bus.$emit('loading', false);\n      }, 600);\n    }\n  }\n</script>\n<style scoped>\n  .mescroll {\n    position: fixed;\n    top: 50px;\n    bottom: 0;\n    height: auto;\n    background: #ffff !important;\n  }\n\n  .header {\n    background: #5D0E13;\n    height: 50px !important;\n    font-size: 18px !important;\n  }\n\n  .font14 {\n    font-size: 14px !important;\n  }\n\n  .column {\n    display: flex;\n    flex-direction: column;\n  }\n\n  .wrap-row {\n    width: 100%;\n    word-wrap: break-word;\n    word-break: break-all;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    white-space: nowrap;\n  }\n\n  .footprint {\n    width: 100%;\n    height: 10px;\n  }\n\n  /* main */\n  .main-this-galley {\n    width: 100%;\n    height: auto;\n  }\n\n  .copy-this-flex-view {\n    width: 100%;\n    /*margin-left: 7%;*/\n    background: #fff;\n    box-sizing: border-box;\n    padding: 15px 2%;\n    border-bottom: 1px solid #d4d4d4;\n    /* border-radius: 10px;*/\n    /*margin-bottom: 10px;*/\n  }\n\n  .color-and-padding {\n    color: #999;\n    margin: 10px 0;\n  }\n\n  /* 没有数据的情况 */\n  .main-none-flex {\n    width: 100%;\n    height: 80%;\n  }\n\n  .color-red-flex {\n    color: red;\n  }\n\n  .none-icon-flex {\n    width: 100px;\n    height: 100px;\n    background-image: url('./../../static/images/icon/djsc/none.png');\n    background-repeat: no-repeat;\n    background-position: center;\n    background-size: contain;\n    margin: 50% auto 0;\n  }\n\n  .marginTop {\n    margin: 10px auto;\n    color: #666;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/OrderMessage.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('mt-header',{staticClass:\"header\",attrs:{\"title\":\"订单消息\"}},[_c('mt-button',{attrs:{\"slot\":\"left\",\"icon\":\"back\"},on:{\"click\":_vm.goBack},slot:\"left\"},[_vm._v(\"返回\")])],1),_vm._v(\" \"),_c('div',{staticStyle:{\"width\":\"100%\",\"height\":\"50px\"}}),_vm._v(\" \"),_c('div',{staticClass:\"head-zw\"}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.dataList.length>0),expression:\"dataList.length>0\"}],staticClass:\"main-this-galley\"},[_c('div',{staticClass:\"footprint\"}),_vm._v(\" \"),_c('MeScroll',{ref:\"mescroll\",staticClass:\"mescroll\",attrs:{\"down\":_vm.mescrollDown,\"up\":_vm.mescrollUp},on:{\"init\":_vm.mescrollInit}},_vm._l((_vm.dataList),function(item,index){return _c('div',{key:index,staticClass:\"copy-this-flex-view column font14\",on:{\"click\":function($event){return _vm.detail(item.id)}}},[_c('div',{staticClass:\"wrap-row\"},[_c('span',{staticStyle:{\"color\":\"#333\"}},[_vm._v(_vm._s(item.content))])])])}),0)],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.dataList.length === 0),expression:\"dataList.length === 0\"}],staticClass:\"main-none-flex column flex-justify-center\"},[_c('div',{staticClass:\"none-icon-flex\"}),_vm._v(\" \"),_c('div',{staticClass:\"font13 marginTop\"},[_vm._v(\"暂无消息\")])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6ba11956\",\"hasScoped\":true,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/OrderMessage.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!vue-style-loader!css-loader?minimize!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6ba11956\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./OrderMessage.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./OrderMessage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./OrderMessage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6ba11956\\\",\\\"hasScoped\\\":true,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./OrderMessage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6ba11956\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/OrderMessage.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}
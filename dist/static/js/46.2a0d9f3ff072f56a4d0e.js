webpackJsonp([46],{"4kBE":function(t,e,o){var a=o("K7B6");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);o("rjj0")("fca7967e",a,!0,{})},K7B6:function(t,e,o){(t.exports=o("FZ+f")(!1)).push([t.i,"body[data-v-5dc467cf],html[data-v-5dc467cf]{overflow:hidden}.header[data-v-5dc467cf]{background:#5d0e13;height:50px!important;font-size:18px!important}.common-flex[data-v-5dc467cf]{width:86%;height:auto;padding:20px 7%;background:#fff;font-size:13px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.color-clone[data-v-5dc467cf]{color:#5d0e13}.div-width-view[data-v-5dc467cf]{width:100%;font-size:13px;text-align:center;padding-top:10px}input[data-v-5dc467cf]{color:#000;border:none;outline:none;font-size:14px}input[disabled][data-v-5dc467cf]{color:#000;opacity:1}",""])},Ptlk:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o("mvHQ"),i=o.n(a),s=o("buxQ"),n=o("s0MJ"),c=o("HPco"),l={data:function(){return{disabled:!1,num:0,userPhone:"",smsCode:"",smsCode2:"",timer:null,count:"",show:!0}},created:function(){this.$bus.$emit("loading",!0);var t=this;localStorage.loginInfo?t.userPhone=JSON.parse(localStorage.loginInfo).phone:t.userPhone="",n.a.ajax.getByForm("/api/member/balance").then(function(e){200===e.data.status?(t.$bus.$emit("loading",!1),t.num=e.data.data.phone):(t.$bus.$emit("loading",!1),s.a.tostTop(e.data.message))}).catch(function(t){s.a.tostTop("网络出错,请稍后重试!")})},methods:{goBack:function(){this.$router.go("-1")},toTool:function(){this.$router.push("/ToolShop")},toUpdate:function(){var t=this,e=JSON.parse(localStorage.getItem("loginInfo"));if(this.disabled){if(this.num<1)return s.a.tostTop("改手机号码卡不足,请去购买！"),!1;if(!c.a.isMatchPhoneNumber(this.userPhone))return s.a.tostTop("手机号码格式不正确！"),this.$refs.changePhone.focus(),!1;n.a.ajax.post("/api/member/update",{type:"phone",value:this.userPhone}).then(function(o){s.a.tostTop(o.data.message),200===o.data.status&&(e.phone=t.userPhone,localStorage.setItem("loginInfo",i()(e))),t.goBack()}).catch(function(t){s.a.tostTop("网络出错,请稍后重试!")})}else this.$refs.changePhone.focus(),this.disabled=!this.disabled}}},d={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("mt-header",{staticClass:"header",attrs:{title:"手机号码"}},[o("mt-button",{attrs:{slot:"left",icon:"back"},on:{click:t.goBack},slot:"left"},[t._v("返回")])],1),t._v(" "),o("div",{staticStyle:{width:"100%",height:"50px"}}),t._v(" "),o("div",{staticClass:"common-flex flex-box"},[o("div",{staticClass:"flex-1",staticStyle:{width:"82%",display:"flex","justify-content":"flex-start","align-items":"center"}},[o("span",{staticStyle:{width:"30%"}},[t._v("手机号码：")]),t._v(" "),o("span",{directives:[{name:"show",rawName:"v-show",value:!t.disabled,expression:"!disabled"}],staticStyle:{"margin-left":"10px",width:"70%"}},[t._v(t._s(t.userPhone))]),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:t.disabled,expression:"disabled"}],staticStyle:{"margin-left":"10px",width:"70%","border-bottom":"1px solid #f7f7f7"}},[o("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.userPhone,expression:"userPhone",modifiers:{trim:!0}}],ref:"changePhone",attrs:{placeholder:"请输入手机号码"},domProps:{value:t.userPhone},on:{input:function(e){e.target.composing||(t.userPhone=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])]),t._v(" "),o("div",{staticClass:"flex-right color-clone",staticStyle:{padding:"0 10px"},on:{click:t.toUpdate}},[t._v(t._s(t.disabled?"确认":"修改")+"\n\n    ")])]),t._v(" "),o("div",{staticClass:"footprint"}),t._v(" "),o("div",{staticClass:"common-flex flex-box"},[o("div",{staticClass:"flex-1"},[t._v("已有改手机号码卡: "+t._s(t.num)+" 张")]),t._v(" "),o("div",{staticClass:"flex-1 flex-right color-clone",on:{click:t.toTool}},[t._v("去购买")])]),t._v(" "),o("div",{staticClass:"color-clone div-width-view"},[t._v("\n    *如需要更改手机号码,请先到道具商城购买手机号码卡\n\n  ")])],1)},staticRenderFns:[]};var r=o("VU/8")(l,d,!1,function(t){o("4kBE")},"data-v-5dc467cf",null);e.default=r.exports}});
//# sourceMappingURL=46.2a0d9f3ff072f56a4d0e.js.map
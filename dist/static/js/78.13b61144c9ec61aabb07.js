webpackJsonp([78],{IVDQ:function(t,e,i){(t.exports=i("FZ+f")(!1)).push([t.i,".self>span[data-v-0089b866]:first-child{margin-right:10px}.self>span[data-v-0089b866]:nth-child(3){margin-left:10px}.itself>span[data-v-0089b866]:nth-child(2){margin:0 65px}.header[data-v-0089b866]{background:#5d0e13;height:50px!important;font-size:18px!important}.top-flex-time[data-v-0089b866]{width:100%;padding:10px 7%;background:#5d0e13;border-top:1px solid #5d0e13;color:#fff;height:200px;position:relative;-webkit-box-sizing:border-box;box-sizing:border-box}.two-self[data-v-0089b866]{width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;margin-top:10px;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.two-self>div[data-v-0089b866]:first-child{border-right:1px solid #fff}.two-self p[data-v-0089b866]{text-align:center}.two-self>div[data-v-0089b866]{width:50%;height:50px}.flex-justify-center[data-v-0089b866]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.width-flex-this[data-v-0089b866]{width:34%;margin-bottom:20px}.font13[data-v-0089b866]{font-size:14px!important}.time-abs-flex[data-v-0089b866]{position:relative}.font30[data-v-0089b866]{font-size:30px;padding-left:10%}.column[data-v-0089b866]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.self>div[data-v-0089b866]{width:130px}.row[data-v-0089b866]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}div.self_bottom>div[data-v-0089b866]:first-child{margin-left:5px}input[data-v-0089b866]{width:100%;color:#000;font-size:13px;-webkit-appearance:none;background:transparent;border:none;outline:none}.elish-flex-view[data-v-0089b866]{margin-right:36px}.top-fixed-flex[data-v-0089b866]{width:86%;padding:10px 7%;background:#fff;color:#333;border-bottom:1px solid #f7f7f7}.padding-top-view[data-v-0089b866]{padding-top:10px}.main-content-class[data-v-0089b866]{width:86%;padding:7px 7%;background:#fff;height:auto;position:relative;padding-bottom:17px;border-bottom:1px solid #e7e7e7}.flex-box-center[data-v-0089b866]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.btn-last-view[data-v-0089b866]{width:86%;padding:10px 7%}.btn-save-flex[data-v-0089b866]{width:100%;background:#5d0e13;color:#ecc489;text-align:center;padding:7px 0;border-radius:5px}",""])},gOo7:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("buxQ"),s=i("s0MJ"),o={data:function(){return{time:"00:00:00",APNumber:"",cash:2e3,count:0,h:"00",m:"00",flag:!0,d:"00",safePwd:"",endTime:"2019/04/15 12:00:00"}},filters:{yuan:function(t){return isNaN(t)?0:parseFloat(t.toFixed(2)).toFixed(2)}},computed:{},methods:{goBack:function(){this.$router.go("-1")},num:function(t){return t<10?"0"+t:""+t},getAP:function(){return this.APNumber<1?(a.a.tostTop("最少承租1AP！"),!1):this.APNumber>10?(a.a.tostTop("单次承租数量不能大于10个！"),!1):void 0},buy:function(){var t=this,e=this;return this.APNumber<1?(a.a.tostTop("最少承租1AP！"),void(e.flag=!0)):this.APNumber>10?(a.a.tostTop("单次承租数量不能大于10个！"),void(e.flag=!0)):void s.a.ajax.post("/api/order/buy",{number:Number(parseFloat(this.APNumber).toFixed(2))}).then(function(i){t.APNumber="",a.a.tostTop(i.data.message),e.flag=!0}).catch(function(i){t.APNumber="",e.flag=!0,a.a.tostTop("网络出错,请稍后重试!")})},submit:function(){var t=this;if(this.flag){if(this.flag=!1,""===this.safePwd)return a.a.tostTop("请输入安全密码！"),void(this.flag=!0);if(this.APNumber>10)return a.a.tostTop("单次承租数量不能大于10个！"),void(this.flag=!0);if("0.00"!==(this.APNumber%.25).toFixed(2))return a.a.tostTop("单次承租数量必须为0.25的整数倍！"),void(this.flag=!0);s.a.ajax.post("/api/member/verify_security",{password:this.safePwd}).then(function(e){200===e.data.status?t.buy():(t.$bus.$emit("loading",!1),a.a.tostTop(e.data.message),t.flag=!0)}).catch(function(e){t.safePwd="",t.flag=!0,t.$bus.$emit("loading",!1),a.a.tostTop("网络出错,请稍后重试!")})}}},created:function(){var t=this;this.$bus.$emit("loading",!0);var e=this,i=0,o=Number(JSON.parse(localStorage.loginInfo).activationTime),n=(new Date).getTime()/1e3-o;i=n>864e3?864e3-n%864e3:864e3-n;var r=Math.floor(i/86400),d=Math.floor((i-24*r*60*60)/3600),l=Math.floor((i-24*r*60*60-3600*d)/60),f=r.toString().split("");f=f[f.length-1],d<10&&(d="0"+d),l<10&&(l="0"+l),e.d=f,e.h=d,e.m=l,s.a.ajax.post("/api/order",{start:0,length:200,status:"finish",type:"buy"}).then(function(i){if(200===i.data.status){var a=i.data.data.data,s=[],r=Math.floor(n/864e3),d=o+864e3*r;a.forEach(function(t,e){"buy"===t.type&&Number(t.payTime)>Number(d)&&s.push(t)}),e.count=s.length,e.$bus.$emit("loading",!1)}else t.$bus.$emit("loading",!1)}).catch(function(t){e.$bus.$emit("loading",!1),a.a.tostTop("网络出错,请稍后重试!")})}},n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("mt-header",{staticClass:"header",attrs:{title:"承租AP"}},[i("mt-button",{attrs:{slot:"left",icon:"back"},on:{click:t.goBack},slot:"left"},[t._v("返回")])],1),t._v(" "),i("div",{staticStyle:{width:"100%",height:"50px"}}),t._v(" "),i("div",{staticClass:"top-flex-time "},[i("div",{staticClass:"font13 ",staticStyle:{width:"100%!important","text-align":"center"}},[t._v("剩余时间")]),t._v(" "),i("div",{staticClass:"column time-abs-flex self"},[i("div",{staticClass:"font30 self",staticStyle:{width:"100%!important","text-align":"center","padding-left":"0","font-size":"40px"}},[i("span",[t._v(t._s(t.d))]),t._v(" "),i("span",{staticStyle:{"font-size":"12px!important"}},[t._v("天")]),t._v(" "),i("span",[t._v(t._s(t.h))]),t._v(" "),i("span",{staticStyle:{"font-size":"12px!important"}},[t._v("小时")]),t._v(" "),i("span",{staticStyle:{"margin-left":"10px!important"}},[t._v(t._s(t.m))]),t._v(" "),i("span",{staticStyle:{"font-size":"12px!important"}},[t._v("分")])])]),t._v(" "),i("div",{staticClass:"two-self"},[i("div",[i("p",[t._v("承租AP")]),t._v(" "),i("p",[t._v(t._s(t.count)+"次")])]),t._v(" "),i("div")])]),t._v(" "),i("div",{staticClass:"main-content-class"},[t._m(0),t._v(" "),i("div",[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.APNumber,expression:"APNumber",modifiers:{trim:!0}}],staticStyle:{width:"100%"},attrs:{type:"number",placeholder:"您当前等级可承租AP数量为1个到10个"},domProps:{value:t.APNumber},on:{input:[function(e){e.target.composing||(t.APNumber=e.target.value.trim())},t.getAP],blur:function(e){return t.$forceUpdate()}}})])]),t._v(" "),i("div",{staticClass:"main-content-class"},[t._m(1),t._v(" "),i("div",[t._v("\n      ￥"+t._s(t._f("yuan")(t.cash*t.APNumber))+"\n    ")])]),t._v(" "),i("div",{staticClass:"main-content-class"},[t._m(2),t._v(" "),i("div",[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.safePwd,expression:"safePwd",modifiers:{trim:!0}}],staticStyle:{width:"100%"},attrs:{type:"password",placeholder:""},domProps:{value:t.safePwd},on:{input:function(e){e.target.composing||(t.safePwd=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])]),t._v(" "),i("div",{staticClass:"btn-last-view"},[i("div",{staticClass:"btn-save-flex",on:{click:t.submit}},[t._v(t._s(t.flag?"提交":"正在处理中..."))])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row flex-box-center padding-top-view"},[e("div",[this._v("承租AP数量")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row flex-box-center padding-top-view"},[e("div",[this._v("对应支付金额")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row flex-box-center padding-top-view"},[e("div",[this._v("输入安全密码")])])}]};var r=i("VU/8")(o,n,!1,function(t){i("wJTB")},"data-v-0089b866",null);e.default=r.exports},wJTB:function(t,e,i){var a=i("IVDQ");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i("rjj0")("73048974",a,!0,{})}});
//# sourceMappingURL=78.13b61144c9ec61aabb07.js.map